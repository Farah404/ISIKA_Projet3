<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:svg="http://www.w3.org/2000/svg" lang="en"
	xmlns:f="http://java.sun.com/jsf/core">

<f:metadata>
	<f:event listener="#{customerProfileBean.init()}" type="preRenderView">
	</f:event>
</f:metadata>
<f:metadata>
	<f:event listener="#{carPoolingServiceManagementBean.init()}"
		type="preRenderView"></f:event>
</f:metadata>
<f:metadata>
	<f:event listener="#{carRentalServiceManagementBean.init()}"
		type="preRenderView"></f:event>
</f:metadata>
<f:metadata>
	<f:event listener="#{parcelServiceManagementBean.init()}"
		type="preRenderView"></f:event>
</f:metadata>
<f:metadata>
	<f:event listener="#{personalAssistanceServiceManagementBean.init()}"
		type="preRenderView"></f:event>
</f:metadata>
<h:head>
	<title>SmarIter</title>
</h:head>


<h:body>
	<ui:composition template="#{templateBean.templatePath()}">
		<ui:define name="content">
			<div class="container">
				<div class="container-cusProfile">
					<h1 class="text-center-cusProfile">Welcome back to your
						Dashboard, #{customerProfileBean.customer.entityAccount.username}
					</h1>
					<br />
					<div class="row">
						<h:form class="cusProfile">
							<div class="col-one-half-cusProfile">
								<img class="customer-img" src="media/img/EcoCarBig.png" /><br />
								<h:commandButton style="width:25vh"
									action="#{customerProfileBean.updateStepOne()}"
									class="button-shared" value="Update profile" />
								<br />
								<h:commandButton style="width:25vh" class="button-shared"
									action="#{customerProfileBean.goToInvoice()}" value="Check my invoice" />
								<br />
								<h:commandButton style="width:25vh" class="button-shared"
									action="#{logInAccountBean.logout()}" value="Log Out"></h:commandButton>


							</div>
							<div class="col-one-half-cusProfile">
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-user fa-col-cus"> Firstname:
										#{customerProfileBean.customer.firstName}</i></span><br /> <br /> <span
									class="label-text-cusProfile"><i
									class="fa fa-user fa-col-cus"> Lastname:
										#{customerProfileBean.customer.lastName}</i></span><br /> <br /> <span
									class="label-text-cusProfile"><i
									class="fa fa-envelope fa-col-cus"> Email address:
										#{customerProfileBean.customer.entityAccount.email}</i></span><br /> <br />
								<span class="label-text-cusProfile"><i
									class="fa fa-phone fa-col-cus"> Phone number:
										#{customerProfileBean.customer.phoneNumber}</i></span><br /> <br /> <span
									class="label-text-cusProfile"><i
									class="fa fa-euro fa-col-cus"> Pricing plan:
										#{customerProfileBean.customer.entityAccount.solution.priceDeal.label}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-hashtag fa-col-cus"> Siret Number:
										#{customerProfileBean.customer.entityAccount.siretNumber}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-globe fa-col-cus"> Website name:
										#{customerProfileBean.customer.entityAccount.solution.solutionName}</i></span>
								<br /> <br /> <span class="label-text-cusProfile"><i
									class="fa fa-euro fa-col-cus"> Payment Choice:
										#{customerProfileBean.customer.entityAccount.solution.paymentSystemChoice.label}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-inbox fa-col-cus"> Messaging Choice:
										#{customerProfileBean.customer.entityAccount.solution.messagingSystemChoice.label}</i></span><br />
								<br />

							</div>

							<div class="col-one-half-cusProfile">

								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-check fa-col-cus"> Bank name:
										#{customerProfileBean.customer.entityAccount.bankDetails.bankName}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-check fa-col-cus"> Swift number:
										#{customerProfileBean.customer.entityAccount.bankDetails.swift}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-check fa-col-cus"> IBAN:
										#{customerProfileBean.customer.entityAccount.bankDetails.iban}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-map fa-col-cus"> Address line:
										#{customerProfileBean.customer.entityAccount.billingAddress.addressLine}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-map fa-col-cus"> City:
										#{customerProfileBean.customer.entityAccount.billingAddress.city}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-map fa-col-cus"> Postal code:
										#{customerProfileBean.customer.entityAccount.billingAddress.postalCode}</i></span><br />
								<br /> <span class="label-text-cusProfile"><i
									class="fa fa-map fa-col-cus"> Country:
										#{customerProfileBean.customer.entityAccount.billingAddress.country}</i></span><br />
								<br />
							</div>
						</h:form>
					</div>
				</div>

				<div class="container-cusProfile">
					<h1 class="text-center-cusProfile">Manage your website</h1>
					<br />
					<div class="row">
						<form class="cusProfile">
							<br /> <span class="label-text-cusProfile"><i
								class="fa fa-inbox fa-col-cus"> Manage your users:</i></span><br /> <br />
							<h:form>
								<h:dataTable class="table-customer" id="listeUsers"
									value="#{userProfileManagementBean.userList}" var="users">

									<h:column>
										<f:facet name="header">Id</f:facet>
										<h:outputText value="#{users.id}" />
									</h:column>
									<h:column>
										<f:facet name="header"> Email</f:facet>
										<h:outputText value="#{users.userAccount.email}" />
									</h:column>
									<h:column>
										<f:facet name="header"> Last Name</f:facet>
										<h:outputText value="#{users.lastName}" />
									</h:column>
									<h:column>
										<f:facet name="header">Go to profile</f:facet>
										<h:panelGrid>
											<h:commandButton value="Check #{userProfileBean.user.userAccount.username}"
												action="#{userProfileManagementBean.showUpdate(users.id)}">
												<f:param name="userId" value="{#user.id}"></f:param>
											</h:commandButton>
										</h:panelGrid>
									</h:column>
									<h:column>
										<f:facet name="header">Delete</f:facet>
										<h:panelGrid>
											<h:commandButton
												action="#{userProfileManagementBean.delete(users.id)}"
												value="Delete" />
										</h:panelGrid>
									</h:column>
								</h:dataTable>
							</h:form>





							<br /> <span class="label-text-cusProfile"><i
								class="fa fa-inbox fa-col-cus"> Manage carpooling services
									on your website: </i></span><br /> <br />
							<h:form>
								<h:dataTable class="table-customer"
									value="#{carPoolingServiceManagementBean.carPoolingServiceList}"
									var="carPoolingService">

									<h:column>
										<f:facet name="header">Reference # </f:facet>
										<h:outputText value="#{carPoolingService.referenceNumber}" />
									</h:column>
									<h:column>
										<f:facet name="header">From </f:facet>
										<h:outputText
											value="#{carPoolingService.trajectory.pickUpAddress}" />
									</h:column>
									<h:column>
										<f:facet name="header">To </f:facet>
										<h:outputText
											value="#{carPoolingService.trajectory.deliveryAddress}" />
									</h:column>

									<h:column>
										<f:facet name="header">Published by</f:facet>
										<h:outputText
											value="#{carPoolingService.userAccountProvider.username}" />
									</h:column>

									<h:column>
										<f:facet name="header">Price</f:facet>
										<h:outputText value="#{carPoolingService.price}" />
									</h:column>

									<h:column>
										<f:facet name="header">Details</f:facet>
										<h:panelGrid>
											<h:commandButton value="Detail"
												action="#{carPoolingServiceManagementBean.detailFromSmariter(carPoolingService.id)}">

												<f:param name="carPoolingServiceId"
													value="#{carPoolingService.id}"></f:param>

											</h:commandButton>
										</h:panelGrid>
									</h:column>
									<h:column>
										<f:facet name="header">Delete</f:facet>
										<h:panelGrid>
											<h:commandButton
												action="#{carPoolingServiceManagementBean.delete(carPoolingService.id)}"
												value="Delete" />
										</h:panelGrid>
									</h:column>
								</h:dataTable>
							</h:form>

							<br /> <span class="label-text-cusProfile"><i
								class="fa fa-inbox fa-col-cus"> Manage car rental services
									on your website:</i></span><br /> <br />
							<h:form>
								<h:dataTable class="table-customer"
									value="#{carRentalServiceManagementBean.carRentalServiceList}"
									var="carRentalService">

									<h:column>
										<f:facet name="header"> Referece # </f:facet>
										<h:outputText value="#{carRentalService.referenceNumber}" />
									</h:column>
									<h:column>
										<f:facet name="header">Keys picked up at </f:facet>
										<h:outputText value="#{carRentalService.keyPickUpAddress}" />
									</h:column>
									<h:column>
										<f:facet name="header">Keys returned at  </f:facet>
										<h:outputText value="#{carRentalService.keyDropOffAddress}" />
									</h:column>
									<h:column>
										<f:facet name="header">Published by</f:facet>
										<h:outputText
											value="#{carRentalService.userAccountProvider.username}" />

									</h:column>
									<h:column>
										<f:facet name="header">Price</f:facet>
										<h:outputText value="#{carRentalService.price}" />
									</h:column>

									<h:column>
										<f:facet name="header">Details</f:facet>
										<h:panelGrid>
											<h:commandButton value="Detail"
												action="#{carRentalServiceManagementBean.detailFromSmariter(carRentalService.id)}">
												<f:param name="carRentalServiceId"
													value="#{carRentalService.id}"></f:param>
											</h:commandButton>
										</h:panelGrid>
									</h:column>
									<h:column>
										<f:facet name="header">Delete</f:facet>
										<h:panelGrid>
											<h:commandButton
												action="#{carRentalServiceManagementBean.delete(carRentalService.id)}"
												value="Delete" />
										</h:panelGrid>
									</h:column>
								</h:dataTable>
							</h:form>

							<br /> <span class="label-text-cusProfile"><i
								class="fa fa-inbox fa-col-cus"> Manage parcel services on
									your website:</i></span><br /> <br />
							<h:form>
								<h:dataTable class="table-customer" id="ParcelService"
									value="#{parcelServiceManagementBean.parcelServiceList}"
									var="parcelService">

									<h:column>
										<f:facet name="header"> Refecence # </f:facet>
										<h:outputText value="#{parcelService.referenceNumber}" />
									</h:column>
									<h:column>
										<f:facet name="header">From</f:facet>
										<h:outputText
											value="#{parcelService.trajectory.pickUpAddress}" />
									</h:column>
									<h:column>
										<f:facet name="header">To</f:facet>
										<h:outputText
											value="#{parcelService.trajectory.deliveryAddress}" />
									</h:column>
									<h:column>
										<f:facet name="header">Bar code</f:facet>
										<h:outputText value="#{parcelService.barCode}" />
									</h:column>

									<h:column>
										<f:facet name="header">Published by</f:facet>
										<h:outputText
											value="#{parcelService.userAccountProvider.username}" />
									</h:column>

									<h:column>
										<f:facet name="header">Price</f:facet>
										<h:outputText value="#{parcelService.price}" />
									</h:column>

									<h:column>
										<f:facet name="header">Details</f:facet>
										<h:panelGrid>
											<h:commandButton value="Detail"
												action="#{parcelServiceManagementBean.detailFromSmariter(parcelService.id)}">
												<f:param name="parcelServiceId" value="#{parcelService.id}"></f:param>
											</h:commandButton>
										</h:panelGrid>
									</h:column>
									<h:column>
										<f:facet name="header">Delete</f:facet>
										<h:panelGrid>
											<h:commandButton
												action="#{parcelServiceManagementBean.delete(parcelService.id)}"
												value="Delete" />
										</h:panelGrid>
									</h:column>

								</h:dataTable>
							</h:form>

							<br /> <span class="label-text-cusProfile"><i
								class="fa fa-inbox fa-col-cus"> Manage personal assistance
									services on your website:</i></span><br /> <br />
							<h:form>
								<h:dataTable class="table-customer" id="PersonalAssistance"
									value="#{personalAssistanceServiceManagementBean.personnalAssistanceServiceList}"
									var="personalAssistance">

									<h:column>
										<f:facet name="header">Reference #</f:facet>
										<h:outputText value="#{personalAssistance.referenceNumber}" />
									</h:column>
									<h:column>
										<f:facet name="header">From</f:facet>
										<h:outputText
											value="#{personalAssistance.trajectory.pickUpAddress}" />
									</h:column>
									<h:column>
										<f:facet name="header">To</f:facet>
										<h:outputText
											value="#{personalAssistance.trajectory.deliveryAddress}" />
									</h:column>
									<h:column>
										<f:facet name="header">Published by</f:facet>
										<h:outputText
											value="#{personalAssistance.userAccountProvider.username}" />
									</h:column>

									<h:column>
										<f:facet name="header">Price</f:facet>
										<h:outputText value="#{personalAssistance.price}" />
									</h:column>

									<h:column>
										<f:facet name="header">Details</f:facet>
										<h:panelGrid>
											<h:commandButton value="Detail"
												action="#{personalAssistanceServiceManagementBean.detailFromSmariter(personalAssistance.id)}">
												<f:param name="personalAssistanceServiceId"
													value="#{personalAssistance.id}"></f:param>
											</h:commandButton>
										</h:panelGrid>
									</h:column>
									<h:column>
										<f:facet name="header">Delete</f:facet>
										<h:panelGrid>
											<h:commandButton
												action="#{personalAssistanceServiceManagementBean.delete(personalAssistance.id)}"
												value="Delete" />
										</h:panelGrid>
									</h:column>
								</h:dataTable>
							</h:form>

						</form>
					</div>
				</div>

			</div>

		</ui:define>
	</ui:composition>


</h:body>
</html>